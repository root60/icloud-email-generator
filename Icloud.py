import base64
import sys

ENCRYPTED_CODE = """
aW1wb3J0IHJhbmRvbQppbXBvcnQgZG5zLnJlc29sdmVyCmZyb20gZW1haWxfdmFsaWRhdG9yIGltcG9ydCB2YWxpZGF0ZV9lbWFpbCwgRW1haWxOb3RWYWxpZEVycm9yCmltcG9ydCB0a2ludGVyIGFzIHRrCmZyb20gdGtpbnRlciBpbXBvcnQgbWVzc2FnZWJveApmcm9tIGZha2VyIGltcG9ydCBGYWtlcgojIEluaXRpYWxpemUgRmFrZXIKZmFrZXIgPSBGYWtlcigpCgojIEdsb2JhbCB2YXJpYWJsZSBkZWNsYXJhdGlvbgplbnRyeV9udW1fZW1haWxzID0gTm9uZQoKZGVmIGdlbmVyYXRlX2ljbG91ZF9lbWFpbCh1c2VybmFtZSk6CiAgICByZXR1cm4gZiJ7dXNlcm5hbWV9QGljbG91ZC5jb20iCgpkZWYgdmFsaWRhdGVfZW1haWxfYWRkcmVzcyhlbWFpbCk6CiAgICB0cnk6CiAgICAgICAgdmFsaWQgPSB2YWxpZGF0ZV9lbWFpbChlbWFpbCkKICAgICAgICByZXR1cm4gdmFsaWRbJ2VtYWlsJ10KICAgIGV4Y2VwdCBFbWFpbE5vdFZhbGlkRXJyb3I6CiAgICAgICAgcmV0dXJuIE5vbmUKCmRlZiBoYXNfdmFsaWRfbXhfcmVjb3JkKGRvbWFpbik6CiAgICB0cnk6CiAgICAgICAgcmVjb3JkcyA9IGRucy5yZXNvbHZlci5yZXNvbHZlKGRvbWFpbiwgJ01YJykKICAgICAgICByZXR1cm4gbGVuKHJlY29yZHMpID4gMAogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICByZXR1cm4gRmFsc2UKCmRlZiBsb2dfdmFsaWRfZW1haWxzKHZhbGlkX2VtYWlscyk6CiAgICB3aXRoIG9wZW4oInJlc3VsdC50eHQiLCAidyIpIGFzIGY6CiAgICAgICAgZm9yIGVtYWlsIGluIHZhbGlkX2VtYWlsczoKICAgICAgICAgICAgZi53cml0ZShmIntlbWFpbH06IFZhbGlkXG4iKQoKZGVmIGdlbmVyYXRlX3VuaXF1ZV91c2VybmFtZXMobnVtX3VzZXJuYW1lcyk6CiAgICB1c2VybmFtZXMgPSBzZXQoKQogICAgd2hpbGUgbGVuKHVzZXJuYW1lcykgPCBudW1fdXNlcm5hbWVzOgogICAgICAgIGZpcnN0X25hbWUgPSBmYWtlci5maXJzdF9uYW1lKCkubG93ZXIoKQogICAgICAgIGxhc3RfbmFtZSA9IGZha2VyLmxhc3RfbmFtZSgpLmxvd2VyKCkKICAgICAgICB1c2VybmFtZSA9IGYie2ZpcnN0X25hbWV9LntsYXN0X25hbWV9e3JhbmRvbS5yYW5kaW50KDEsIDk5KX0iCiAgICAgICAgdXNlcm5hbWVzLmFkZCh1c2VybmFtZSkKICAgIHJldHVybiBsaXN0KHVzZXJuYW1lcykKCmRlZiBnZW5lcmF0ZV9hbmRfdmFsaWRhdGVfZW1haWxzKG51bV9lbWFpbHMpOgogICAgdmFsaWRfZW1haWxzID0gc2V0KCkKICAgIHVzZXJuYW1lcyA9IGdlbmVyYXRlX3VuaXF1ZV91c2VybmFtZXMobnVtX2VtYWlscykKCiAgICBmb3IgdXNlcm5hbWUgaW4gdXNlcm5hbWVzOgogICAgICAgIGVtYWlsID0gZ2VuZXJhdGVfaWNsb3VkX2VtYWlsKHVzZXJuYW1lKQogICAgICAgIHByaW50KGYiR2VuZXJhdGVkIGVtYWlsOiB7ZW1haWx9IikKCiAgICAgICAgdmFsaWRhdGVkX2VtYWlsID0gdmFsaWRhdGVfZW1haWxfYWRkcmVzcyhlbWFpbCkKICAgICAgICBpZiB2YWxpZGF0ZWRfZW1haWwgYW5kIGhhc192YWxpZF9teF9yZWNvcmQoImljbG91ZC5jb20iKToKICAgICAgICAgICAgcHJpbnQoZiJWYWxpZCBlbWFpbDoge3ZhbGlkYXRlZF9lbWFpbH0iKQogICAgICAgICAgICB2YWxpZF9lbWFpbHMuYWRkKHZhbGlkYXRlZF9lbWFpbCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChmIkludmFsaWQgZW1haWw6IHtlbWFpbH0iKQoKICAgIGxvZ192YWxpZF9lbWFpbHModmFsaWRfZW1haWxzKQogICAgcmV0dXJuIGxlbih2YWxpZF9lbWFpbHMpCgpkZWYgc3RhcnRfZ2VuZXJhdGlvbigpOgogICAgZ2xvYmFsIGVudHJ5X251bV9lbWFpbHMKICAgIHRyeToKICAgICAgICBudW1fZW1haWxzID0gaW50KGVudHJ5X251bV9lbWFpbHMuZ2V0KCkpCiAgICAgICAgdG90YWxfdmFsaWQgPSBnZW5lcmF0ZV9hbmRfdmFsaWRhdGVfZW1haWxzKG51bV9lbWFpbHMpCiAgICAgICAgbWVzc2FnZWJveC5zaG93aW5mbygiUmVzdWx0IiwgZiJUb3RhbCB2YWxpZCBlbWFpbHMgZ2VuZXJhdGVkOiB7dG90YWxfdmFsaWR9IikKICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKCJJbnB1dCBFcnJvciIsICJQbGVhc2UgZW50ZXIgYSB2YWxpZCBudW1iZXIuIikKCiMgVXNlciBJbnRlcmZhY2UgU2V0dXAKcm9vdCA9IHRrLlRrKCkKcm9vdC50aXRsZSgiaUNsb3VkIEVtYWlsIEdlbmVyYXRvciIpCgojIElucHV0IGZpZWxkcwp0ay5MYWJlbChyb290LCB0ZXh0PSJOdW1iZXIgb2YgRW1haWxzIHRvIEdlbmVyYXRlOiIpLnBhY2soKQplbnRyeV9udW1fZW1haWxzID0gdGsuRW50cnkocm9vdCkKZW50cnlfbnVtX2VtYWlscy5wYWNrKCkKCiMgR2VuZXJhdGUgYnV0dG9uCmJ0bl9nZW5lcmF0ZSA9IHRrLkJ1dHRvbihyb290LCB0ZXh0PSJHZW5lcmF0ZSBFbWFpbHMiLCBjb21tYW5kPXN0YXJ0X2dlbmVyYXRpb24pCmJ0bl9nZW5lcmF0ZS5wYWNrKCkKCiMgQXV0aG9yIGNyZWRpdCBhdCBib3R0b20KdGsuTGFiZWwocm9vdCwgdGV4dD0iRGV2ZWxvcGVkIGJ5IFJlZEh5ZHJhIiwgZmc9ImdyYXkiLCBmb250PSgiQXJpYWwiLCA4KSkucGFjayhzaWRlPSdib3R0b20nLCBwYWR5PTUpCgojIFJ1biB0aGUgYXBwbGljYXRpb24Kcm9vdC5tYWlubG9vcCgpCg=="""

def main():
    try:
        decoded_code = base64.b64decode(ENCRYPTED_CODE).decode('utf-8')
        exec(decoded_code, {"__name__": "__main__", "__builtins__": __builtins__})
    except Exception as e:
        print(f"Error: {e}")
        sys.exit(1)

if __name__ == "__main__":
    main()
